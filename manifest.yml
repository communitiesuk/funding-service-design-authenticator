---
applications:
- name: funding-service-design-authenticator-dev
  memory: 64M
  buildpacks:
  - https://github.com/cloudfoundry/python-buildpack.git
  command: flask run --host 0.0.0.0 --port 8080
  env:
    AUTHENTICATOR_HOST: https://funding-service-design-authenticator-dev.london.cloudapps.digital
    ACCOUNT_STORE_API_HOST: https://funding-service-design-account-store-dev.london.cloudapps.digital
    APPLICATION_STORE_API_HOST: https://funding-service-design-application-store-dev.london.cloudapps.digital
    NOTIFICATION_SERVICE_HOST: http://funding-service-design-notification-dev.apps.internal:8080
    MAGIC_LINK_REDIRECT_URL: https://funding-service-design-frontend-dev.london.cloudapps.digital/account/{account_id}
    FLASK_ENV: dev
    FLASK_DEBUG: 1
  services:
    - funding-service-magic-links-dev

- name: funding-service-design-authenticator-test
  memory: 64M
  buildpacks:
  - https://github.com/cloudfoundry/python-buildpack.git
  command: flask run --host 0.0.0.0 --port 8080
  env:
    AUTHENTICATOR_HOST: https://funding-service-design-authenticator-test.london.cloudapps.digital
    ACCOUNT_STORE_API_HOST: https://funding-service-design-account-store-test.london.cloudapps.digital
    APPLICATION_STORE_API_HOST: https://funding-service-design-application-store-test.london.cloudapps.digital
    NOTIFICATION_SERVICE_HOST: http://funding-service-design-notification-test.apps.internal:8080
    MAGIC_LINK_REDIRECT_URL: https://funding-service-design-frontend-test.london.cloudapps.digital/account/{account_id}
    FLASK_ENV: test
  services:
    - funding-service-magic-links-test
