---
applications:
- name: funding-service-design-authenticator-dev
  memory: 64M
  buildpacks:
  - https://github.com/cloudfoundry/python-buildpack.git
  command: gunicorn wsgi:app -c gunicorn.config.dev.py
  env:
    AUTHENTICATOR_HOST: https://funding-service-design-authenticator-dev.london.cloudapps.digital
    ACCOUNT_STORE_API_HOST: https://funding-service-design-account-store-dev.london.cloudapps.digital
    APPLICATION_STORE_API_HOST: https://funding-service-design-application-store-dev.london.cloudapps.digital
    NOTIFICATION_SERVICE_HOST: http://funding-service-design-notification-dev.apps.internal:8080
    MAGIC_LINK_REDIRECT_URL: https://funding-service-design-frontend-dev.london.cloudapps.digital/account/{account_id}
    FLASK_ENV: dev
    FLASK_DEBUG: 1
    RSA256_PRIVATE_KEY: ((RSA256_PRIVATE_KEY))
    RSA256_PUBLIC_KEY: ((RSA256_PUBLIC_KEY))
    AZURE_AD_CLIENT_SECRET: ((AZURE_AD_CLIENT_SECRET))
    SECRET_KEY: ((SECRET_KEY))
    SESSION_COOKIE_NAME: ((SESSION_COOKIE_NAME))

  services: # eg. Redis
    - funding-service-magic-links-dev

- name: funding-service-design-authenticator-test
  memory: 64M
  buildpacks:
  - https://github.com/cloudfoundry/python-buildpack.git
  command: gunicorn wsgi:app -c gunicorn.config.test.py
  env:
    AUTHENTICATOR_HOST: https://funding-service-design-authenticator-test.london.cloudapps.digital
    ACCOUNT_STORE_API_HOST: https://funding-service-design-account-store-test.london.cloudapps.digital
    APPLICATION_STORE_API_HOST: https://funding-service-design-application-store-test.london.cloudapps.digital
    NOTIFICATION_SERVICE_HOST: http://funding-service-design-notification-test.apps.internal:8080
    MAGIC_LINK_REDIRECT_URL: https://funding-service-design-frontend-test.london.cloudapps.digital/account/{account_id}
    FLASK_ENV: test
    RSA256_PRIVATE_KEY: ((RSA256_PRIVATE_KEY))
    RSA256_PUBLIC_KEY: ((RSA256_PUBLIC_KEY))
    AZURE_AD_CLIENT_SECRET: ((AZURE_AD_CLIENT_SECRET))
    SECRET_KEY: ((SECRET_KEY))
    SESSION_COOKIE_NAME: ((SESSION_COOKIE_NAME))
  services: # eg. Redis
    - funding-service-magic-links-test
